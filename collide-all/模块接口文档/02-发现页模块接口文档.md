# å‘ç°é¡µæ¨¡å—æ¥å£æ–‡æ¡£

## æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£åç§°**: å‘ç°é¡µæ¨¡å—æ¥å£æ–‡æ¡£
- **ç‰ˆæœ¬**: 2.0.0
- **æ›´æ–°æ—¶é—´**: 2024-01-31
- **æè¿°**: å‘ç°é¡µæ¨¡å—ç›¸å…³çš„APIæ¥å£æ–‡æ¡£ï¼ŒåŸºäºå®é™…controllerå®ç°

---

## ç›®å½•
1. [æˆ‘çš„å…³æ³¨åŠŸèƒ½](#1-æˆ‘çš„å…³æ³¨åŠŸèƒ½)
2. [éšæœºæ¨èåŠŸèƒ½](#2-éšæœºæ¨èåŠŸèƒ½)
3. [æœ€æ–°å†…å®¹åŠŸèƒ½](#3-æœ€æ–°å†…å®¹åŠŸèƒ½)
4. [é€šç”¨å“åº”æ ¼å¼](#4-é€šç”¨å“åº”æ ¼å¼)
5. [é”™è¯¯ç è¯´æ˜](#5-é”™è¯¯ç è¯´æ˜)
6. [æ³¨æ„äº‹é¡¹](#6-æ³¨æ„äº‹é¡¹)
7. [æ¥å£è°ƒç”¨ç¤ºä¾‹](#7-æ¥å£è°ƒç”¨ç¤ºä¾‹)
8. [åŠŸèƒ½å®Œæ•´æ€§è¯´æ˜](#8-åŠŸèƒ½å®Œæ•´æ€§è¯´æ˜)

---

## 1. æˆ‘çš„å…³æ³¨åŠŸèƒ½

### 1.1 è·å–å…³æ³¨ç”¨æˆ·çš„å†…å®¹
- **æ¥å£è·¯å¾„**: `GET /api/v1/content/core/following/{userId}`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: è·å–æˆ‘å…³æ³¨çš„ç”¨æˆ·å‘å¸ƒçš„å†…å®¹åˆ—è¡¨
- **Controller**: ContentController.getFollowingContents()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| userId | Long | æ˜¯ | - | å½“å‰ç”¨æˆ·IDï¼ˆè·¯å¾„å‚æ•°ï¼‰ |
| contentType | String | å¦ | - | å†…å®¹ç±»å‹ï¼šVIDEOã€NOVELã€COMICã€ARTICLEã€AUDIO |
| orderBy | String | å¦ | createTime | æ’åºå­—æ®µï¼šcreateTimeã€viewCountã€likeCountã€favoriteCountã€shareCountã€commentCountã€score |
| orderDirection | String | å¦ | DESC | æ’åºæ–¹å‘ï¼šASCã€DESC |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/content/core/following/123?contentType=VIDEO&orderBy=createTime&orderDirection=DESC&currentPage=1&pageSize=20
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 1,
        "title": "å…³æ³¨ç”¨æˆ·å‘å¸ƒçš„è§†é¢‘",
        "description": "è§†é¢‘æè¿°",
        "contentType": "VIDEO",
        "authorId": 456,
        "authorNickname": "å…³æ³¨ç”¨æˆ·1",
        "authorAvatar": "https://example.com/avatar1.jpg",
        "categoryId": 1,
        "categoryName": "å¨±ä¹",
        "tags": "å¨±ä¹,æç¬‘",
        "viewCount": 500,
        "likeCount": 25,
        "commentCount": 10,
        "favoriteCount": 15,
        "shareCount": 5,
        "score": 4.2,
        "status": "PUBLISHED",
        "reviewStatus": "APPROVED",
        "createTime": "2024-01-30T10:30:00",
        "updateTime": "2024-01-30T10:30:00"
      }
    ],
    "total": 50,
    "currentPage": 1,
    "pageSize": 20,
    "totalPages": 3
  }
}
```

#### ä½¿ç”¨è¯´æ˜
- æ­¤æ¥å£ä¼šè‡ªåŠ¨è·å–ç”¨æˆ·å…³æ³¨çš„æ‰€æœ‰ä½œè€…IDï¼Œç„¶åæŸ¥è¯¢è¿™äº›ä½œè€…å‘å¸ƒçš„å†…å®¹
- å¦‚æœæ²¡æœ‰å…³æ³¨ä»»ä½•ä½œè€…ï¼Œè¿”å›ç©ºç»“æœ
- åªè¿”å›å·²å‘å¸ƒä¸”å®¡æ ¸é€šè¿‡çš„å†…å®¹
- æ”¯æŒæŒ‰å†…å®¹ç±»å‹ç­›é€‰ï¼Œå¦‚åªæŸ¥çœ‹è§†é¢‘å†…å®¹

### 1.2 è·å–å…³æ³¨ç”¨æˆ·åˆ—è¡¨
- **æ¥å£è·¯å¾„**: `GET /api/v1/follow/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: è·å–æˆ‘å…³æ³¨çš„ç”¨æˆ·åˆ—è¡¨
- **Controller**: FollowController.listFollows()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| followerId | Long | æ˜¯ | - | å½“å‰ç”¨æˆ·IDï¼ˆå…³æ³¨è€…IDï¼‰ |
| status | String | å¦ | active | å…³æ³¨çŠ¶æ€ |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/follow/list?followerId=123&status=active&currentPage=1&pageSize=20
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 1,
        "followerId": 123,
        "followerNickname": "æˆ‘",
        "followerAvatar": "https://example.com/avatar.jpg",
        "followeeId": 456,
        "followeeNickname": "å…³æ³¨ç”¨æˆ·1",
        "followeeAvatar": "https://example.com/avatar1.jpg",
        "status": "active",
        "createTime": "2024-01-15T10:00:00",
        "updateTime": "2024-01-15T10:00:00"
      }
    ],
    "total": 25,
    "currentPage": 1,
    "pageSize": 20,
    "totalPages": 2
  }
}
```

#### ä½¿ç”¨è¯´æ˜
- è¿”å›å½“å‰ç”¨æˆ·å…³æ³¨çš„æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯
- åŒ…å«å…³æ³¨è€…å’Œè¢«å…³æ³¨è€…çš„åŸºæœ¬ä¿¡æ¯
- æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…æ•°æ®é‡è¿‡å¤§

---

## 2. éšæœºæ¨èåŠŸèƒ½

### 2.1 è·å–æ¨èå†…å®¹
- **æ¥å£è·¯å¾„**: `GET /api/v1/content/core/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: è·å–æ¨èå†…å®¹ï¼Œæ”¯æŒå¤šç§æ¡ä»¶ç­›é€‰
- **Controller**: ContentController.listContents()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| contentType | String | å¦ | - | å†…å®¹ç±»å‹ï¼šVIDEOã€NOVELã€COMICã€ARTICLEã€AUDIO |
| categoryId | Long | å¦ | - | åˆ†ç±»ID |
| keyword | String | å¦ | - | å…³é”®è¯æœç´¢ï¼ˆæ ‡é¢˜ã€æè¿°ã€å†…å®¹ï¼‰ |
| orderBy | String | å¦ | createTime | æ’åºå­—æ®µï¼šcreateTimeã€viewCountã€likeCountã€favoriteCountã€shareCountã€commentCountã€score |
| orderDirection | String | å¦ | DESC | æ’åºæ–¹å‘ï¼šASCã€DESC |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/content/core/list?contentType=VIDEO&orderBy=viewCount&orderDirection=DESC&currentPage=1&pageSize=20
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 1,
        "title": "çƒ­é—¨æ¨èè§†é¢‘",
        "description": "è§†é¢‘æè¿°",
        "contentType": "VIDEO",
        "authorId": 789,
        "authorNickname": "çƒ­é—¨ä½œè€…",
        "authorAvatar": "https://example.com/avatar2.jpg",
        "categoryId": 1,
        "categoryName": "å¨±ä¹",
        "tags": "å¨±ä¹,çƒ­é—¨",
        "viewCount": 10000,
        "likeCount": 500,
        "commentCount": 200,
        "favoriteCount": 300,
        "shareCount": 100,
        "score": 4.8,
        "status": "PUBLISHED",
        "reviewStatus": "APPROVED",
        "createTime": "2024-01-25T10:30:00",
        "updateTime": "2024-01-25T10:30:00"
      }
    ],
    "total": 200,
    "currentPage": 1,
    "pageSize": 20,
    "totalPages": 10
  }
}
```

#### ä½¿ç”¨è¯´æ˜
- é€šè¿‡ä¸åŒçš„æ’åºæ–¹å¼å®ç°æ¨èåŠŸèƒ½
- æŒ‰æµè§ˆé‡æ’åºè·å–çƒ­é—¨å†…å®¹
- æŒ‰åˆ›å»ºæ—¶é—´æ’åºè·å–æœ€æ–°å†…å®¹
- æ”¯æŒåˆ†ç±»ç­›é€‰ï¼Œè·å–ç‰¹å®šåˆ†ç±»çš„æ¨èå†…å®¹

---

## 3. æœ€æ–°å†…å®¹åŠŸèƒ½

### 3.1 è·å–æœ€æ–°å†…å®¹
- **æ¥å£è·¯å¾„**: `GET /api/v1/content/core/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: è·å–æœ€æ–°å‘å¸ƒçš„å†…å®¹
- **Controller**: ContentController.listContents()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| contentType | String | å¦ | - | å†…å®¹ç±»å‹ï¼šVIDEOã€NOVELã€COMICã€ARTICLEã€AUDIO |
| categoryId | Long | å¦ | - | åˆ†ç±»ID |
| orderBy | String | å¦ | createTime | æ’åºå­—æ®µï¼ˆå›ºå®šä¸ºcreateTimeï¼‰ |
| orderDirection | String | å¦ | DESC | æ’åºæ–¹å‘ï¼ˆå›ºå®šä¸ºDESCï¼‰ |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/content/core/list?contentType=VIDEO&orderBy=createTime&orderDirection=DESC&currentPage=1&pageSize=20
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 1,
        "title": "æœ€æ–°å‘å¸ƒçš„è§†é¢‘",
        "description": "è§†é¢‘æè¿°",
        "contentType": "VIDEO",
        "authorId": 123,
        "authorNickname": "æ–°ä½œè€…",
        "authorAvatar": "https://example.com/avatar3.jpg",
        "categoryId": 1,
        "categoryName": "å¨±ä¹",
        "tags": "å¨±ä¹,æ–°å†…å®¹",
        "viewCount": 100,
        "likeCount": 10,
        "commentCount": 5,
        "favoriteCount": 8,
        "shareCount": 2,
        "score": 4.5,
        "status": "PUBLISHED",
        "reviewStatus": "APPROVED",
        "createTime": "2024-01-31T15:30:00",
        "updateTime": "2024-01-31T15:30:00"
      }
    ],
    "total": 150,
    "currentPage": 1,
    "pageSize": 20,
    "totalPages": 8
  }
}
```

#### ä½¿ç”¨è¯´æ˜
- æŒ‰åˆ›å»ºæ—¶é—´å€’åºæ’åˆ—ï¼Œè·å–æœ€æ–°å‘å¸ƒçš„å†…å®¹
- æ”¯æŒæŒ‰å†…å®¹ç±»å‹å’Œåˆ†ç±»ç­›é€‰
- é€‚åˆå‘ç°é¡µå±•ç¤ºæœ€æ–°å†…å®¹

---

## 4. é€šç”¨å“åº”æ ¼å¼

### æˆåŠŸå“åº”
```json
{
  "code": 200,
  "message": "success",
  "data": {
    // å…·ä½“æ•°æ®
  }
}
```

### åˆ†é¡µå“åº”
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      // æ•°æ®åˆ—è¡¨
    ],
    "total": 100,
    "currentPage": 1,
    "pageSize": 20,
    "totalPages": 5
  }
}
```

### é”™è¯¯å“åº”
```json
{
  "code": 400,
  "message": "é”™è¯¯ä¿¡æ¯",
  "data": null
}
```

---

## 5. é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 200 | æˆåŠŸ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | æœªæˆæƒ |
| 403 | ç¦æ­¢è®¿é—® |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## 6. æ³¨æ„äº‹é¡¹

1. **è®¤è¯è¦æ±‚**: å‘ç°é¡µåŠŸèƒ½éœ€è¦ç”¨æˆ·ç™»å½•ï¼Œè·å–å…³æ³¨å†…å®¹
2. **åˆ†é¡µå‚æ•°**: é»˜è®¤é¡µç ä¸º1ï¼Œé¡µé¢å¤§å°ä¸º20ï¼Œæœ€å¤§é¡µé¢å¤§å°ä¸º100
3. **æ—¶é—´æ ¼å¼**: æ‰€æœ‰æ—¶é—´å­—æ®µä½¿ç”¨ISO 8601æ ¼å¼ï¼š`YYYY-MM-DDTHH:mm:ss`
4. **å†…å®¹ç±»å‹**: æ”¯æŒçš„å†…å®¹ç±»å‹åŒ…æ‹¬ï¼šVIDEOï¼ˆè§†é¢‘ï¼‰ã€NOVELï¼ˆå°è¯´ï¼‰ã€COMICï¼ˆæ¼«ç”»ï¼‰ã€ARTICLEï¼ˆæ–‡ç« ï¼‰ã€AUDIOï¼ˆéŸ³é¢‘ï¼‰
5. **æƒé™æ§åˆ¶**: åªèƒ½æŸ¥çœ‹å·²å‘å¸ƒä¸”å®¡æ ¸é€šè¿‡çš„å†…å®¹
6. **æ•°æ®å®‰å…¨**: å…³æ³¨å†…å®¹åŸºäºç”¨æˆ·å…³æ³¨å…³ç³»ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ€§
7. **æ€§èƒ½ä¼˜åŒ–**: æ‰€æœ‰æŸ¥è¯¢éƒ½æ”¯æŒåˆ†é¡µï¼Œé¿å…å¤§é‡æ•°æ®ä¸€æ¬¡æ€§è¿”å›
8. **ç¼“å­˜ç­–ç•¥**: æ¨èå†…å®¹æ”¯æŒç¼“å­˜ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½

---

## 7. æ¥å£è°ƒç”¨ç¤ºä¾‹

### å®Œæ•´çš„å‘ç°é¡µåŠ è½½æµç¨‹

1. **è·å–å…³æ³¨å†…å®¹**
```http
GET /api/v1/content/core/following/123?contentType=VIDEO&currentPage=1&pageSize=20
```

2. **è·å–å…³æ³¨ç”¨æˆ·åˆ—è¡¨**
```http
GET /api/v1/follow/list?followerId=123&status=active&currentPage=1&pageSize=20
```

3. **è·å–çƒ­é—¨æ¨èå†…å®¹**
```http
GET /api/v1/content/core/list?contentType=VIDEO&orderBy=viewCount&orderDirection=DESC&currentPage=1&pageSize=20
```

4. **è·å–æœ€æ–°å†…å®¹**
```http
GET /api/v1/content/core/list?contentType=VIDEO&orderBy=createTime&orderDirection=DESC&currentPage=1&pageSize=20
```

---

## 8. åŠŸèƒ½å®Œæ•´æ€§è¯´æ˜

### âœ… **å®Œå…¨å®ç°çš„åŠŸèƒ½**
- **å…³æ³¨å†…å®¹æŸ¥è¯¢**: é€šè¿‡ContentController.getFollowingContents()å®ç°ï¼Œè‡ªåŠ¨è·å–å…³æ³¨ä½œè€…å†…å®¹
- **å…³æ³¨ç”¨æˆ·åˆ—è¡¨**: é€šè¿‡FollowController.listFollows()å®ç°ï¼Œæ”¯æŒåˆ†é¡µæŸ¥è¯¢
- **æ¨èå†…å®¹æŸ¥è¯¢**: é€šè¿‡ContentController.listContents()å®ç°ï¼Œæ”¯æŒå¤šç§æ’åºæ–¹å¼
- **æœ€æ–°å†…å®¹æŸ¥è¯¢**: é€šè¿‡ContentController.listContents()å®ç°ï¼ŒæŒ‰æ—¶é—´æ’åº
- **å†…å®¹ç­›é€‰**: æ”¯æŒæŒ‰å†…å®¹ç±»å‹ã€åˆ†ç±»ã€å…³é”®è¯ç­‰æ¡ä»¶ç­›é€‰

### ğŸ”— **APIè·¯å¾„å¯¹åº”å…³ç³»**
- **å…³æ³¨å†…å®¹**: `GET /api/v1/content/core/following/*` - ContentController
- **å…³æ³¨ç®¡ç†**: `GET /api/v1/follow/*` - FollowController
- **å†…å®¹æŸ¥è¯¢**: `GET /api/v1/content/core/list` - ContentController

### ğŸ“Š **åŠŸèƒ½å®ç°ç‡: 100%**
æ‰€æœ‰å‘ç°é¡µæ¨¡å—æè¿°çš„åŠŸèƒ½éƒ½èƒ½é€šè¿‡ç°æœ‰APIå®Œå…¨å®ç°ã€‚

### ğŸ’¡ **æŠ€æœ¯å®ç°ç‰¹ç‚¹**
1. **æ™ºèƒ½æ¨è**: åŸºäºç”¨æˆ·å…³æ³¨å…³ç³»è‡ªåŠ¨æ¨èç›¸å…³å†…å®¹
2. **å¤šç»´åº¦æ’åº**: æ”¯æŒæŒ‰æ—¶é—´ã€çƒ­åº¦ã€è¯„åˆ†ç­‰å¤šç§æ–¹å¼æ’åº
3. **æ€§èƒ½ä¼˜åŒ–**: æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…å¤§é‡æ•°æ®ä¸€æ¬¡æ€§è¿”å›
4. **ç¼“å­˜æ”¯æŒ**: æ¨èå†…å®¹æ”¯æŒç¼“å­˜ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½
5. **æƒé™æ§åˆ¶**: åŸºäºç”¨æˆ·å…³æ³¨å…³ç³»ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ€§

### ğŸ” **å®é™…Controlleræ–¹æ³•å¯¹åº”**
| åŠŸèƒ½ | æ¥å£è·¯å¾„ | Controlleræ–¹æ³• | å®ç°çŠ¶æ€ |
|------|----------|----------------|----------|
| å…³æ³¨å†…å®¹æŸ¥è¯¢ | `GET /api/v1/content/core/following/{userId}` | ContentController.getFollowingContents() | âœ… å·²å®ç° |
| å…³æ³¨ç”¨æˆ·åˆ—è¡¨ | `GET /api/v1/follow/list` | FollowController.listFollows() | âœ… å·²å®ç° |
| æ¨èå†…å®¹æŸ¥è¯¢ | `GET /api/v1/content/core/list` | ContentController.listContents() | âœ… å·²å®ç° |
| æœ€æ–°å†…å®¹æŸ¥è¯¢ | `GET /api/v1/content/core/list` | ContentController.listContents() | âœ… å·²å®ç° |

### ğŸ“ **ä½¿ç”¨å»ºè®®**
1. **å‰ç«¯é›†æˆ**: å»ºè®®å…ˆè·å–å…³æ³¨å†…å®¹ï¼Œå†è·å–æ¨èå†…å®¹ï¼Œæœ€åè·å–æœ€æ–°å†…å®¹
2. **ç¼“å­˜ç­–ç•¥**: æ¨èå†…å®¹å¯ä»¥é€‚å½“ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚
3. **åˆ†é¡µä¼˜åŒ–**: å†…å®¹åˆ—è¡¨å»ºè®®ä½¿ç”¨åˆ†é¡µï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½è¿‡å¤šæ•°æ®
4. **ç”¨æˆ·å¼•å¯¼**: æ–°ç”¨æˆ·æ²¡æœ‰å…³æ³¨æ—¶ï¼Œå¯ä»¥å¼•å¯¼ç”¨æˆ·å…³æ³¨æ„Ÿå…´è¶£çš„å†…å®¹åˆ›ä½œè€…
5. **ä¸ªæ€§åŒ–**: åŸºäºç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œå¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æ¨èç®—æ³•
