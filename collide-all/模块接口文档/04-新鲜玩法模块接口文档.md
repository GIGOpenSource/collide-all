# æ–°é²œç©æ³•æ¨¡å—æ¥å£æ–‡æ¡£

## æ–‡æ¡£ä¿¡æ¯
- **æ–‡æ¡£åç§°**: æ–°é²œç©æ³•æ¨¡å—æ¥å£æ–‡æ¡£
- **ç‰ˆæœ¬**: 2.0.0
- **æ›´æ–°æ—¶é—´**: 2024-01-31
- **æè¿°**: æ–°é²œç©æ³•æ¨¡å—ç›¸å…³çš„APIæ¥å£æ–‡æ¡£ï¼ŒåŸºäºå®é™…controllerå®ç°

---

## ç›®å½•
1. [Banneræœç´¢åŠŸèƒ½](#1-banneræœç´¢åŠŸèƒ½)
2. [é€šç”¨å“åº”æ ¼å¼](#2-é€šç”¨å“åº”æ ¼å¼)
3. [é”™è¯¯ç è¯´æ˜](#3-é”™è¯¯ç è¯´æ˜)
4. [æ³¨æ„äº‹é¡¹](#4-æ³¨æ„äº‹é¡¹)
5. [æ¥å£è°ƒç”¨ç¤ºä¾‹](#5-æ¥å£è°ƒç”¨ç¤ºä¾‹)
6. [åŠŸèƒ½å®Œæ•´æ€§è¯´æ˜](#6-åŠŸèƒ½å®Œæ•´æ€§è¯´æ˜)

---

## 1. Banneræœç´¢åŠŸèƒ½

### 1.1 Banneråˆ—è¡¨æŸ¥è¯¢
- **æ¥å£è·¯å¾„**: `GET /api/v1/ads/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: è·å–Bannerå¹¿å‘Šåˆ—è¡¨ï¼Œæ”¯æŒå¤šç§æ¡ä»¶ç­›é€‰
- **Controller**: AdsController.listAds()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| id | Long | å¦ | - | å¹¿å‘ŠID |
| adType | String | å¦ | - | å¹¿å‘Šç±»å‹ï¼šBANNERã€VIDEOã€POPUPç­‰ |
| keyword | String | å¦ | - | å…³é”®è¯æœç´¢ï¼ˆæ ‡é¢˜ã€æè¿°ï¼‰ |
| isValid | Integer | å¦ | - | æ˜¯å¦æœ‰æ•ˆï¼š1ï¼ˆæœ‰æ•ˆï¼‰ã€0ï¼ˆæ— æ•ˆï¼‰ |
| orderBy | String | å¦ | createTime | æ’åºå­—æ®µï¼šcreateTimeï¼ˆåˆ›å»ºæ—¶é—´ï¼‰ã€updateTimeï¼ˆæ›´æ–°æ—¶é—´ï¼‰ |
| orderDirection | String | å¦ | DESC | æ’åºæ–¹å‘ï¼šASCï¼ˆå‡åºï¼‰ã€DESCï¼ˆé™åºï¼‰ |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/ads/list?adType=BANNER&isValid=1&currentPage=1&pageSize=10
```

#### å“åº”ç¤ºä¾‹
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      {
        "id": 1,
        "adName": "æ–°é²œç©æ³•Banner1",
        "adTitle": "Banneræ ‡é¢˜",
        "adDescription": "Banneræè¿°ä¿¡æ¯",
        "adType": "BANNER",
        "imageUrl": "https://example.com/banner1.jpg",
        "clickUrl": "https://example.com/play1",
        "isActive": 1,
        "sortOrder": 100,
        "createTime": "2024-01-30T10:30:00",
        "updateTime": "2024-01-30T10:30:00"
      }
    ],
    "total": 5,
    "currentPage": 1,
    "pageSize": 10,
    "totalPages": 1
  }
}
```

### 1.2 Bannerç±»å‹ç­›é€‰
- **æ¥å£è·¯å¾„**: `GET /api/v1/ads/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: æ ¹æ®å¹¿å‘Šç±»å‹ç­›é€‰Bannerå¹¿å‘Š
- **Controller**: AdsController.listAds()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| adType | String | æ˜¯ | - | å¹¿å‘Šç±»å‹ï¼šBANNER |
| isValid | Integer | å¦ | 1 | æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤1ï¼ˆæœ‰æ•ˆï¼‰ |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/ads/list?adType=BANNER&isValid=1&currentPage=1&pageSize=20
```

### 1.3 Bannerå…³é”®è¯æœç´¢
- **æ¥å£è·¯å¾„**: `GET /api/v1/ads/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: æ ¹æ®å…³é”®è¯æœç´¢Bannerå¹¿å‘Š
- **Controller**: AdsController.listAds()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| keyword | String | æ˜¯ | - | æœç´¢å…³é”®è¯ï¼ˆæ ‡é¢˜ã€æè¿°ï¼‰ |
| adType | String | å¦ | BANNER | å¹¿å‘Šç±»å‹ï¼Œé»˜è®¤BANNER |
| isValid | Integer | å¦ | 1 | æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤1ï¼ˆæœ‰æ•ˆï¼‰ |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/ads/list?keyword=æ–°é²œç©æ³•&adType=BANNER&isValid=1&currentPage=1&pageSize=20
```

### 1.4 BannerçŠ¶æ€ç­›é€‰
- **æ¥å£è·¯å¾„**: `GET /api/v1/ads/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: æ ¹æ®çŠ¶æ€ç­›é€‰Bannerå¹¿å‘Š
- **Controller**: AdsController.listAds()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| isValid | Integer | æ˜¯ | - | æ˜¯å¦æœ‰æ•ˆï¼š1ï¼ˆæœ‰æ•ˆï¼‰ã€0ï¼ˆæ— æ•ˆï¼‰ |
| adType | String | å¦ | BANNER | å¹¿å‘Šç±»å‹ï¼Œé»˜è®¤BANNER |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/ads/list?isValid=1&adType=BANNER&currentPage=1&pageSize=20
```

### 1.5 Banneræ’åºæŸ¥è¯¢
- **æ¥å£è·¯å¾„**: `GET /api/v1/ads/list`
- **è¯·æ±‚æ–¹å¼**: GET
- **åŠŸèƒ½æè¿°**: æ ¹æ®æ’åºæ¡ä»¶æŸ¥è¯¢Bannerå¹¿å‘Š
- **Controller**: AdsController.listAds()

#### è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|--------|------|------|--------|------|
| orderBy | String | å¦ | createTime | æ’åºå­—æ®µï¼šcreateTimeï¼ˆåˆ›å»ºæ—¶é—´ï¼‰ã€updateTimeï¼ˆæ›´æ–°æ—¶é—´ï¼‰ |
| orderDirection | String | å¦ | DESC | æ’åºæ–¹å‘ï¼šASCï¼ˆå‡åºï¼‰ã€DESCï¼ˆé™åºï¼‰ |
| adType | String | å¦ | BANNER | å¹¿å‘Šç±»å‹ï¼Œé»˜è®¤BANNER |
| isValid | Integer | å¦ | 1 | æ˜¯å¦æœ‰æ•ˆï¼Œé»˜è®¤1ï¼ˆæœ‰æ•ˆï¼‰ |
| currentPage | Integer | å¦ | 1 | å½“å‰é¡µç  |
| pageSize | Integer | å¦ | 20 | é¡µé¢å¤§å° |

#### è¯·æ±‚ç¤ºä¾‹
```http
GET /api/v1/ads/list?orderBy=createTime&orderDirection=DESC&adType=BANNER&isValid=1&currentPage=1&pageSize=20
```

---

## 2. é€šç”¨å“åº”æ ¼å¼

### æˆåŠŸå“åº”
```json
{
  "code": 200,
  "message": "success",
  "data": {
    // å…·ä½“æ•°æ®
  }
}
```

### åˆ†é¡µå“åº”
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [
      // æ•°æ®åˆ—è¡¨
    ],
    "total": 100,
    "currentPage": 1,
    "pageSize": 20,
    "totalPages": 5
  }
}
```

### é”™è¯¯å“åº”
```json
{
  "code": 400,
  "message": "é”™è¯¯ä¿¡æ¯",
  "data": null
}
```

---

## 3. é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 200 | æˆåŠŸ |
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 401 | æœªæˆæƒ |
| 403 | ç¦æ­¢è®¿é—® |
| 404 | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

---

## 4. æ³¨æ„äº‹é¡¹

1. **è®¤è¯è¦æ±‚**: Banneræœç´¢æ¥å£æ— éœ€ç”¨æˆ·ç™»å½•ï¼Œå¯å…¬å¼€è®¿é—®
2. **åˆ†é¡µå‚æ•°**: é»˜è®¤é¡µç ä¸º1ï¼Œé¡µé¢å¤§å°ä¸º20ï¼Œæœ€å¤§é¡µé¢å¤§å°ä¸º100
3. **å¹¿å‘Šç±»å‹**: æ”¯æŒçš„å¹¿å‘Šç±»å‹åŒ…æ‹¬ï¼šBANNERï¼ˆæ¨ªå¹…ï¼‰ã€VIDEOï¼ˆè§†é¢‘ï¼‰ã€POPUPï¼ˆå¼¹çª—ï¼‰ç­‰
4. **çŠ¶æ€ç®¡ç†**: 
   - isValid=1ï¼šæœ‰æ•ˆçŠ¶æ€ï¼Œæ­£å¸¸æ˜¾ç¤º
   - isValid=0ï¼šæ— æ•ˆçŠ¶æ€ï¼Œä¸æ˜¾ç¤º
5. **æ’åºæ”¯æŒ**: 
   - createTimeï¼šæŒ‰åˆ›å»ºæ—¶é—´æ’åº
   - updateTimeï¼šæŒ‰æ›´æ–°æ—¶é—´æ’åº
6. **æœç´¢æ€§èƒ½**: æ”¯æŒå…³é”®è¯å…¨æ–‡æœç´¢ã€ç±»å‹ç´¢å¼•ç­‰
7. **æƒé‡æ’åº**: ç³»ç»Ÿå†…éƒ¨ä¼šæŒ‰sortOrderå­—æ®µè¿›è¡Œæƒé‡æ’åº

---

## 5. æ¥å£è°ƒç”¨ç¤ºä¾‹

### å®Œæ•´çš„Banneræœç´¢æµç¨‹

1. **åŸºç¡€Banneråˆ—è¡¨æŸ¥è¯¢**
```http
GET /api/v1/ads/list?adType=BANNER&isValid=1&currentPage=1&pageSize=10
```

2. **å…³é”®è¯æœç´¢Banner**
```http
GET /api/v1/ads/list?keyword=æ–°é²œç©æ³•&adType=BANNER&isValid=1&currentPage=1&pageSize=20
```

3. **çŠ¶æ€ç­›é€‰Banner**
```http
GET /api/v1/ads/list?isValid=1&adType=BANNER&currentPage=1&pageSize=20
```

4. **æ’åºæŸ¥è¯¢Banner**
```http
GET /api/v1/ads/list?orderBy=createTime&orderDirection=DESC&adType=BANNER&isValid=1&currentPage=1&pageSize=20
```

5. **ç»„åˆæ¡ä»¶æŸ¥è¯¢Banner**
```http
GET /api/v1/ads/list?adType=BANNER&isValid=1&keyword=æ¸¸æˆ&orderBy=createTime&orderDirection=DESC&currentPage=1&pageSize=20
```

---

## 6. åŠŸèƒ½å®Œæ•´æ€§è¯´æ˜

### âœ… **å®Œå…¨å®ç°çš„åŠŸèƒ½**
- **Banneråˆ—è¡¨æŸ¥è¯¢**: é€šè¿‡AdsController.listAds()å®ç°ï¼Œæ”¯æŒå¤šç§æ¡ä»¶ç­›é€‰
- **ç±»å‹ç­›é€‰**: æ”¯æŒæŒ‰å¹¿å‘Šç±»å‹ç­›é€‰
- **å…³é”®è¯æœç´¢**: æ”¯æŒæ ‡é¢˜ã€æè¿°çš„å…¨æ–‡æœç´¢
- **çŠ¶æ€ç­›é€‰**: æ”¯æŒæŒ‰æœ‰æ•ˆçŠ¶æ€ç­›é€‰
- **æ’åºæŸ¥è¯¢**: æ”¯æŒæŒ‰åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´æ’åº
- **åˆ†é¡µæŸ¥è¯¢**: æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…å¤§é‡æ•°æ®ä¸€æ¬¡æ€§è¿”å›

### ğŸ”— **APIè·¯å¾„å¯¹åº”å…³ç³»**
- **Banneråˆ—è¡¨**: `GET /api/v1/ads/list` - AdsController.listAds()
- **ç±»å‹ç­›é€‰**: `GET /api/v1/ads/list` - AdsController.listAds()
- **å…³é”®è¯æœç´¢**: `GET /api/v1/ads/list` - AdsController.listAds()
- **çŠ¶æ€ç­›é€‰**: `GET /api/v1/ads/list` - AdsController.listAds()
- **æ’åºæŸ¥è¯¢**: `GET /api/v1/ads/list` - AdsController.listAds()

### ğŸ“Š **åŠŸèƒ½å®ç°ç‡: 100%**
æ‰€æœ‰æ–°é²œç©æ³•æ¨¡å—æè¿°çš„åŠŸèƒ½éƒ½èƒ½é€šè¿‡ç°æœ‰APIå®Œå…¨å®ç°ã€‚

### ğŸ’¡ **æŠ€æœ¯å®ç°ç‰¹ç‚¹**
1. **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰Bannerç›¸å…³æŸ¥è¯¢éƒ½é€šè¿‡åŒä¸€ä¸ªæ¥å£å®ç°ï¼Œé€šè¿‡å‚æ•°ç»„åˆå®ç°ä¸åŒåŠŸèƒ½
2. **çµæ´»ç­›é€‰**: æ”¯æŒå¤šç§ç­›é€‰æ¡ä»¶çš„ç»„åˆæŸ¥è¯¢
3. **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
4. **ç¼“å­˜æ”¯æŒ**: æ”¯æŒRedisç¼“å­˜æé«˜å“åº”é€Ÿåº¦
5. **åˆ†é¡µæŸ¥è¯¢**: æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼Œé¿å…å¤§é‡æ•°æ®ä¸€æ¬¡æ€§è¿”å›
6. **çŠ¶æ€ç®¡ç†**: æ”¯æŒå¹¿å‘ŠçŠ¶æ€çš„ç®¡ç†å’Œç­›é€‰

### ğŸ”§ **å®é™…Controlleræ–¹æ³•**
```java
@GetMapping("/list")
public Result<PageResponse<AdResponse>> listAds(
    @RequestParam(required = false) Long id,
    @RequestParam(required = false) String adType,
    @RequestParam(required = false) String keyword,
    @RequestParam(required = false) Integer isValid,
    @RequestParam(defaultValue = "createTime") String orderBy,
    @RequestParam(defaultValue = "DESC") String orderDirection,
    @RequestParam(defaultValue = "1") Integer currentPage,
    @RequestParam(defaultValue = "20") Integer pageSize)
```

### ğŸ“ **æ³¨æ„äº‹é¡¹**
1. **æ¥å£ç»Ÿä¸€**: æ‰€æœ‰BanneræŸ¥è¯¢åŠŸèƒ½éƒ½é€šè¿‡`/api/v1/ads/list`æ¥å£å®ç°
2. **å‚æ•°ç»„åˆ**: é€šè¿‡ä¸åŒå‚æ•°çš„ç»„åˆå®ç°ä¸åŒçš„æŸ¥è¯¢åŠŸèƒ½
3. **å‘åå…¼å®¹**: ä¿æŒäº†åŸæœ‰çš„åŠŸèƒ½ç‰¹æ€§ï¼ŒåŒæ—¶ç®€åŒ–äº†æ¥å£ç»“æ„
4. **æ€§èƒ½ä¼˜åŒ–**: ç»Ÿä¸€çš„æ¥å£ä¾¿äºç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–
